<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML-SHARP 3D Gaussian Splatting Demo</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- Upload Section -->
        <div id="upload-section" class="section active">
            <div class="container">
                <h1>ML-SHARP 3D Demo</h1>
                <p class="subtitle">å°†å•å¼ å›¾ç‰‡è½¬æ¢ä¸º 3D Gaussian Splatting åœºæ™¯</p>

                <div class="upload-area">
                    <input
                        type="file"
                        id="imageInput"
                        accept="image/png,image/jpeg,image/jpg"
                        style="display: none;"
                    >
                    <label for="imageInput" class="upload-label">
                        <div class="upload-icon">ğŸ“·</div>
                        <div class="upload-text">ç‚¹å‡»é€‰æ‹©å›¾ç‰‡æˆ–æ‹–æ‹½åˆ°æ­¤å¤„</div>
                        <div class="upload-hint">æ”¯æŒ JPG, PNG æ ¼å¼ï¼Œæœ€å¤§ 100MB</div>
                    </label>

                    <div id="preview-container" style="display: none;">
                        <img id="imagePreview" alt="Preview">
                        <div class="upload-hint" style="margin-top: 0.5rem; margin-bottom: 0.5rem;">
                            ğŸ’¡ æç¤ºï¼šå¯ä»¥ç›´æ¥æ‹–æ‹½æ–°å›¾ç‰‡åˆ°è¿™é‡Œæ›¿æ¢
                        </div>
                        <button id="changeImageBtn" class="btn btn-secondary">æ›´æ¢å›¾ç‰‡</button>
                    </div>
                </div>

                <button id="processBtn" class="btn btn-primary" disabled>
                    ç”Ÿæˆ 3D åœºæ™¯
                </button>

                <div id="status" class="status-message"></div>

                <div id="progress-container" class="progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <div class="progress-text">å¤„ç†ä¸­...</div>
                </div>
            </div>
        </div>

        <!-- Viewer Section -->
        <div id="viewer-section" class="section">
            <div id="viewer-container">
                <!-- Canvas will be created by GaussianSplats3D viewer -->

                <div id="viewer-controls" class="viewer-controls">
                    <div class="control-panel">
                        <span class="effect-badge">Particle Cloud</span>
                        <h3>æ§åˆ¶è¯´æ˜</h3>
                        <ul>
                            <li><strong>æ—‹è½¬</strong> é¼ æ ‡å·¦é”®æ‹–æ‹½</li>
                            <li><strong>å¹³ç§»</strong> é¼ æ ‡å³é”®æ‹–æ‹½</li>
                            <li><strong>ç¼©æ”¾</strong> é¼ æ ‡æ»šè½®</li>
                            <li><strong>äº¤äº’</strong> ç§»åŠ¨é¼ æ ‡é è¿‘ç²’å­</li>
                        </ul>
                    </div>
                    <button id="backBtn" class="btn btn-secondary">è¿”å›ä¸Šä¼ </button>
                </div>

                <div id="loading-overlay" class="loading-overlay">
                    <div class="spinner"></div>
                    <div class="loading-text">åŠ è½½ 3D åœºæ™¯ä¸­...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Import maps for ES modules -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.170.0/examples/jsm/",
            "lil-gui": "https://cdn.jsdelivr.net/npm/lil-gui@0.19.2/dist/lil-gui.esm.min.js",
            "@mkkellogg/gaussian-splats-3d": "https://cdn.jsdelivr.net/npm/@mkkellogg/gaussian-splats-3d@0.4.7/build/gaussian-splats-3d.module.js"
        }
    }
    </script>

    <!-- Main application script -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
